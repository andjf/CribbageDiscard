(this.webpackJsonpcribbage_mobile=this.webpackJsonpcribbage_mobile||[]).push([[0],[,,,,,,,,,,,,,,,function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){},,function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var r=e(1),a=e.n(r),i=e(9),u=e.n(i),o=(e(15),e(3)),s=(e(16),e(2)),c=(e(17),e(18),e(0));var l=function(t){var n=t.next,e=t.previous;return Object(c.jsxs)("div",{className:"navButtonContainer",children:[Object(c.jsx)("button",{onClick:e,className:"leftButton navButton",children:Object(c.jsx)("strong",{className:"arrowText",children:"<"})}),Object(c.jsx)("button",{onClick:n,className:"rightButton navButton",children:Object(c.jsx)("strong",{className:"arrowText",children:">"})})]})},h=(e(20),[["\u2660","\u2664"],["\u2665","\u2661"],["\u2663","\u2667"],["\u2666","\u2662"]]);var b=function(t){var n=t.number,e=t.suit,r=t.nextSuitFunction,a=t.nextNumberFunction,i=t.small;function u(t){return 1===t?"A":11===t?"J":12===t?"Q":13===t?"K":t.toString()}return Object(c.jsxs)("button",{className:i?"smallCard":"card",children:[Object(c.jsx)("p",{onClick:a,className:i?"smallNumber":"number",children:u(n)}),Object(c.jsx)("p",{onClick:a,className:(i?"smallNumber":"number")+" "+(i?"smallRotated":"rotated"),children:u(n)}),Object(c.jsx)("p",{onClick:r,className:(i?"smallSuit":"suit")+(e%2?" red":" black"),children:h[e][0]})]})},f=e(10),m=e(6),v=e(7),j=function(){function t(n,e){Object(m.a)(this,t),this.number=n,this.suit=e,this.value=Math.min(10,this.number)}return Object(v.a)(t,[{key:"getCardDisplay",value:function(){return t.NUMBERS[this.number-1]+t.SUITS[this.suit]}}]),t}();j.NUMBERS=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],j.SUITS=["\u2660","\u2665","\u2663","\u2666"];var d=function(){function t(){Object(m.a)(this,t)}return Object(v.a)(t,null,[{key:"scoreHand",value:function(t,n){if(4!==t.length||void 0===n)throw new Error("Tried to score hand that didn't have 5 cards");var e=0;return e+=this.pointsFromFifteens(t.concat(n)),e+=this.pointsFromPairs(t.concat(n)),e+=this.pointsFromRuns(t.concat(n)),e+=this.pointsFromKnobs(t,n),e+=this.pointsFromFlush(t.concat(n))}},{key:"pointsFromFlush",value:function(t){var n=t.map((function(n,e){return e!==t.length-1&&n.suit===t[e+1].suit}));return n.pop(),5*n.every((function(t){return t}))}},{key:"pointsFromKnobs",value:function(t,n){for(var e=0;e<t.length;e++)if(11===t[e].number&&t[e].suit===n.suit)return 1;return 0}},{key:"pointsFromPairs",value:function(t){for(var n=0,e=0;e<t.length;e++)for(var r=e+1;r<t.length;r++)t[e].number===t[r].number&&(n+=2);return n}},{key:"numbersBetweenWithout",value:function(t,n,e){for(var r=[],a=t;a<=n;)a!==e&&r.push(a),a++;return r}},{key:"createFifteensPossibleCombos",value:function(){for(var t=[],n=0;n<=4;n++)t.push(this.numbersBetweenWithout(0,4,n));for(var e=0;e<=3;e++)for(var r=e+1;r<=4;r++)t.push([e,r]);for(var a=0;a<=2;a++)for(var i=a+1;i<=3;i++)for(var u=i+1;u<=4;u++)t.push([a,i,u]);return t}},{key:"pointsFromFifteens",value:function(t){for(var n=0,e=this.createFifteensPossibleCombos(),r=0;r<e.length;r++){for(var a=e[r],i=0,u=0;u<a.length&&!((i+=t[a[u]].value)>15);u++);n+=15===i}return 2*n}},{key:"pointsFromRuns",value:function(t){for(var n=t.map((function(t){return t.number})).sort((function(t,n){return t-n})),e=[],r=[],a=0;a<n.length;a++)-1===e.indexOf(n[a])?e.push(n[a]):r.push(n[a]);for(var i=1,u=e[0],o=1,s=1;s<e.length;s++)e[s]===u+1?++o>i&&(i=o):o=1,u=e[s];for(var c=[],l=0;l<r.length;l++)-1===c.indexOf(r[l])&&c.push(r[l]);for(var h=c[0],b=0,f=0;f<n.length;f++)b+=n[f]===h;var m=b;0===m&&(m=1);var v=c.length;0===v&&(v=1);var j=i;return j<3&&(j=0),m*v*j}}]),t}(),O=function(){function t(){Object(m.a)(this,t)}return Object(v.a)(t,null,[{key:"getFullDeckWithout",value:function(t){for(var n=[],e=0;e<4;e++)for(var r=1;r<=13;r++){var a,i=Object(f.a)(t);try{for(i.s();!(a=i.n()).done;){var u=a.value;u.number===r&&u.suit===e||n.push(new j(r,e))}}catch(o){i.e(o)}finally{i.f()}}return n}},{key:"removeCard",value:function(t,n){var e=Object(s.a)(t);return e.splice(n,1),e}},{key:"bestDiscards",value:function(t){var n=Object(s.a)(t);if(5===n.length){for(var e=Array(n.length).fill(0),r=this.getFullDeckWithout(n),a=0;a<n.length;a++)for(var i=this.removeCard(n,a),u=0;u<r.length;u++)e[a]+=d.scoreHand(i,r[u]);return[t[e.indexOf(Math.max.apply(Math,Object(s.a)(e)))]]}if(6===n.length){for(var o=new Array(15).fill(0),c=this.getFullDeckWithout(n),l=0,h=0;h<n.length-1;h++)for(var b=h+1;b<n.length;b++){for(var f=this.removeCard(this.removeCard(n,b),h),m=0;m<c.length;m++)o[l]+=d.scoreHand(f,c[m]);l++}var v=o.indexOf(Math.max.apply(Math,Object(s.a)(o)));l=0;for(var j=0;j<n.length-1;j++)for(var O=j+1;O<n.length;O++){if(l===v)return[t[j],t[O]];l++}throw new Error("Error finding the optimal cards to discard with 6 cards")}throw new Error("Cannot find best discard from "+t.length+" cards")}}]),t}();e(21);var p=function(t){var n=t.trigger,e=t.setTrigger,r=t.children;return n?Object(c.jsx)("div",{className:"popup",children:Object(c.jsxs)("div",{className:"popupInner",children:[Object(c.jsx)("button",{className:"closeButton",onClick:function(){return e(!1)},children:"X"}),r]})}):""};var g=function(t){var n=t.numberOfCards,e=Object(r.useState)(function(t){for(var n=[],e=0;e<t;e++){for(var r=!0,a=void 0,i=void 0;r;){a=Math.floor(13*Math.random())+1,i=Math.floor(4*Math.random()),r=!1;for(var u=0;u<n.length&&!r;u++)n[u].number===a&&n[u].suit===i&&(r=!0)}n.push({number:a,suit:i})}return n}(n)),a=Object(o.a)(e,2),i=a[0],u=a[1],h=Object(r.useState)(0),f=Object(o.a)(h,2),m=f[0],v=f[1],d=Object(r.useState)(void 0),g=Object(o.a)(d,2),x=g[0],k=g[1],C=Object(r.useState)(!1),F=Object(o.a)(C,2),N=F[0],y=F[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h1",{children:["Card number ",m+1]}),Object(c.jsx)(b,{number:i[m].number,suit:i[m].suit,nextSuitFunction:function(){var t=Object(s.a)(i);3===t[m].suit?t[m].suit=0:t[m].suit++,u(t)},nextNumberFunction:function(){var t=Object(s.a)(i);13===t[m].number?t[m].number=1:t[m].number++,u(t)},small:!1}),Object(c.jsx)(l,{next:function(){m===i.length-1?v(0):v(m+1)},previous:function(){v(0===m?i.length-1:m-1)}}),Object(c.jsx)("button",{onClick:function(){var t=i.map((function(t){return new j(t.number,t.suit)}));k(O.bestDiscards(t)),y(!0)},className:"checkButton",children:"Check"}),void 0===x?"":Object(c.jsxs)(p,{trigger:N,setTrigger:y,children:[Object(c.jsx)("h2",{children:"Best discard"+(2===x.length?"s":"")}),x.map((function(t,n){return Object(c.jsx)(b,{number:t.number,suit:t.suit,nextSuitFunction:function(){return!1},nextNumberFunction:function(){return!1},small:!0},n)}))]})]})};e(22);var x=function(t){var n=t.onClick;return Object(c.jsxs)("div",{className:"chooseContainer",children:[Object(c.jsx)("h1",{children:"How many players?"}),Object(c.jsxs)("div",{className:"numButtonContainer",children:[Object(c.jsx)("button",{className:"numButton",onClick:function(){return n(2)},children:"2"}),Object(c.jsx)("button",{className:"numButton",onClick:function(){return n(3)},children:"3"})]})]})};var k=function(){var t=Object(r.useState)(-1),n=Object(o.a)(t,2),e=n[0],a=n[1];return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("header",{className:"App-header",children:-1===e?Object(c.jsx)(x,{onClick:function(t){a(t)}}):Object(c.jsx)(g,{numberOfCards:2===e?6:5})})})};u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.8a040111.chunk.js.map